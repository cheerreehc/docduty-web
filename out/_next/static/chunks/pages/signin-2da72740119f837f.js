(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[126],{5586:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var n=s(7876),r=s(7328),a=s.n(r),i=s(4232),c=s(9099),l=s(9744);async function u(e,t){let s=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=(0,l.S)(s),{data:r,error:a}=await n.auth.signInWithPassword({email:e,password:t});if(a)throw a;return r}var o=s(8230),d=s.n(o),h=s(4587),x=s.n(h);function p(){let e=(0,c.useRouter)(),[t,s]=(0,i.useState)(""),[r,a]=(0,i.useState)(""),[l,o]=(0,i.useState)(!0),[h,p]=(0,i.useState)("");async function m(s){s.preventDefault(),p("");try{await u(t,r,l),e.push("/dashboard")}catch(e){p(e.message||"อีเมลหรือรหัสผ่านไม่ถูกต้อง")}}return(0,n.jsxs)("form",{onSubmit:m,className:"bg-white p-8 rounded-lg shadow max-w-sm w-full space-y-5",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center space-y-2 mb-2",children:[(0,n.jsx)(x(),{src:"/logo.png",alt:"DocDuty Logo",width:120,height:120,priority:!0}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"เข้าสู่ระบบ"})]}),(0,n.jsx)("input",{type:"email",placeholder:"อีเมล",value:t,onChange:e=>s(e.target.value),className:"border px-4 py-2 rounded w-full focus:outline-none focus:ring focus:border-blue-300",required:!0}),(0,n.jsx)("input",{type:"password",placeholder:"รหัสผ่าน",value:r,onChange:e=>a(e.target.value),className:"border px-4 py-2 rounded w-full focus:outline-none focus:ring focus:border-blue-300",required:!0}),(0,n.jsxs)("label",{className:"flex items-center space-x-2 text-sm",children:[(0,n.jsx)("input",{type:"checkbox",checked:l,onChange:e=>o(e.target.checked)}),(0,n.jsx)("span",{children:"จดจำฉันไว้"})]}),(0,n.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded w-full transition",children:"เข้าสู่ระบบ"}),h&&(0,n.jsx)("p",{className:"text-red-600 text-center text-sm",children:h}),(0,n.jsxs)("p",{className:"text-center text-sm text-gray-600",children:["ยังไม่มีบัญชี?"," ",(0,n.jsx)(d(),{href:"/signup",className:"text-blue-600 hover:underline",children:"สมัครสมาชิก"})]})]})}function m(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"เข้าสู่ระบบ | DocDuty"})}),(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:(0,n.jsx)(p,{})})]})}},6620:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return s(5586)}])},7328:(e,t,s)=>{e.exports=s(9836)},9099:(e,t,s)=>{e.exports=s(8253)},9744:(e,t,s)=>{"use strict";s.d(t,{S:()=>r});var n=s(7155);function r(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return(0,n.createBrowserClient)("https://pqnmfikncumnshlbgsmz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBxbm1maWtuY3VtbnNobGJnc216Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE3OTA1MjcsImV4cCI6MjA2NzM2NjUyN30.OkQGTUr6SbEp6AfrtF49zNkBb1uK9FKtwCuRRnnw-HA",{auth:{storage:e?localStorage:sessionStorage,persistSession:!0,autoRefreshToken:!0}})}}},e=>{var t=t=>e(e.s=t);e.O(0,[155,92,636,593,792],()=>t(6620)),_N_E=e.O()}]);